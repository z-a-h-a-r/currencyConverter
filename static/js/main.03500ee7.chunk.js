(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{13:function(e,t,c){e.exports={footer:"footer_footer__3cypa",body:"footer_body___O8x2",column:"footer_column__1PGoL",link:"footer_link__dc6X9"}},21:function(e,t,c){e.exports={cardsWrap:"convert_cardsWrap__Pjto7",card:"convert_card__2eY1y",input:"convert_input__2bb8v",clear:"convert_clear__NPSeI"}},24:function(e,t,c){e.exports={form:"search_form__1Rrky",input:"search_input__1EqOU",button:"search_button__2ZJOD"}},26:function(e,t,c){e.exports={header:"header_header__1uQbk",inner:"header_inner__2EfIx",logo:"header_logo__2ehPa",baseCurrencyWrap:"header_baseCurrencyWrap__t5jtl"}},27:function(e,t,c){e.exports={body:"select_body__2U7ti",baseCurrency:"select_baseCurrency__3Ees8",list:"select_list__3GM4f",item:"select_item__wbDEt"}},35:function(e,t,c){e.exports={ldsRoller:"loading_ldsRoller__1mhMw",body:"loading_body__2pjPO"}},36:function(e,t,c){e.exports={body:"main_body__2oguR",currencyList:"main_currencyList__3yBku"}},49:function(e,t,c){e.exports={body:"alert_body__1eNOb",alert:"alert_alert__2QPdc"}},64:function(e,t,c){},65:function(e,t,c){},7:function(e,t,c){e.exports={list:"currencyList_list__1PwZo",card:"currencyList_card__1_v5A",currency:"currencyList_currency__2_ejR",name:"currencyList_name__396d4",flex:"currencyList_flex__2Xm8X",bigCard:"currencyList_bigCard__3Mewz",allCurrency:"currencyList_allCurrency__1fV5p"}},91:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(29),s=c.n(r),i=c(5),o=c(25),u=(c(64),c(65),c(2)),l=c(15),j=c.n(l),d=c(23),b=c(6),O=c(32),h=c.n(O),m="382d555418b3e5f66981fc03",f="https://v6.exchangerate-api.com/v6",_=function(e){return h.a.get("".concat(f,"/").concat(m,"/latest/").concat(e)).then((function(e){return e.data}))},p=function(){return h.a.get("".concat(f,"/").concat(m,"/codes")).then((function(e){return e.data.supported_codes}))},x=function(e,t){return h.a.get("".concat(f,"/").concat(m,"/pair/").concat(e,"/").concat(t)).then((function(e){return e.data}))},y="SET_LATEST",v="SET_SEARCH_RESULT",N="SET_CONVERSION_RESULT",g="SET_CODES",C={latest:{conversion_rates:{}},conversionResult:{},searchResult:[],codes:[]},S=function(e){return{type:v,payload:e}},E=function(){return function(){var e=Object(d.a)(j.a.mark((function e(t,c){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c(),a=n.app.baseCurrency,_(a).then((function(e){t({type:y,payload:e})}));case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()},k=function(e,t){return function(){var c=Object(d.a)(j.a.mark((function c(n,a){return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:x(e,t).then((function(e){n({type:N,payload:e})}));case 1:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(b.a)(Object(b.a)({},e),{},{latest:t.payload});case v:return Object(b.a)(Object(b.a)({},e),{},{searchResult:t.payload});case N:return Object(b.a)(Object(b.a)({},e),{},{conversionResult:t.payload});case g:return Object(b.a)(Object(b.a)({},e),{},{codes:t.payload});default:return e}},R="SET_INITIALIZED",L="SET_BASE_CURRENCY",I="SET_LANGUAGE",T={initialized:!1,baseCurrency:"USD",language:"eng"},P=function(e){return{type:L,payload:e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(b.a)(Object(b.a)({},e),{},{initialized:!0});case L:return Object(b.a)(Object(b.a)({},e),{},{baseCurrency:t.payload});case I:return Object(b.a)(Object(b.a)({},e),{},{language:t.payload});default:return e}},D=c(35),A=c.n(D),B=c(1),z=function(){return Object(B.jsx)("div",{className:A.a.body,children:Object(B.jsxs)("div",{className:A.a.ldsRoller,children:[Object(B.jsx)("div",{}),Object(B.jsx)("div",{}),Object(B.jsx)("div",{}),Object(B.jsx)("div",{}),Object(B.jsx)("div",{}),Object(B.jsx)("div",{}),Object(B.jsx)("div",{}),Object(B.jsx)("div",{})]})})},F=a.a.memo(z),X=c(26),q=c.n(X),G=c(19),W=c(27),M=c.n(W),V=function(e){var t=Object(n.useState)(!1),c=Object(G.a)(t,2),a=c[0],r=c[1],s=Object(i.c)((function(e){return e.data.codes}));return Object(B.jsxs)("div",{className:M.a.body,children:[Object(B.jsx)("div",{onClick:function(){r(a=!a)},className:M.a.baseCurrency,children:e.initialCurrency}),a&&Object(B.jsx)("div",{className:M.a.list,children:s.map((function(t){return Object(B.jsx)("div",{className:M.a.item,onClick:function(){e.onItemClick(t[0]),r(!1)},children:t[0]})}))})]})},J=a.a.memo(V),Z=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.app.baseCurrency}));return Object(B.jsx)("header",{className:q.a.header,children:Object(B.jsx)("div",{className:"container",children:Object(B.jsxs)("div",{className:q.a.inner,children:[Object(B.jsx)("div",{className:q.a.logo,children:"currency converter"}),Object(B.jsxs)("div",{className:q.a.baseCurrencyWrap,children:[Object(B.jsx)("span",{children:"Base currency"}),Object(B.jsx)(J,{onItemClick:function(t){e(P(t)),e(E())},initialCurrency:t})]})]})})})},H=a.a.memo(Z),Q=c(13),Y=c.n(Q),K=function(){return Object(B.jsx)("div",{className:Y.a.footer,children:Object(B.jsx)("div",{className:"container",children:Object(B.jsxs)("div",{className:Y.a.body,children:[Object(B.jsxs)("div",{className:[Y.a.techInfo,Y.a.column].join(""),children:[Object(B.jsx)("p",{children:"Main"}),Object(B.jsxs)("ul",{children:[Object(B.jsx)("li",{children:Object(B.jsx)("a",{href:"https://github.com/z-a-h-a-r/currencyConverter",className:Y.a.link,target:"_blank",children:"Project Code"})}),Object(B.jsx)("li",{children:Object(B.jsx)("a",{href:"https://github.com/z-a-h-a-r",className:Y.a.link,target:"_blank",children:"My GitHub"})})]})]}),Object(B.jsxs)("div",{className:[Y.a.apis,Y.a.column].join(""),children:[Object(B.jsx)("p",{children:"API"}),Object(B.jsx)("ul",{children:Object(B.jsx)("li",{children:Object(B.jsx)("a",{href:"https://www.exchangerate-api.com/",className:Y.a.link,target:"_blank",children:"exchangerate API"})})})]}),Object(B.jsxs)("div",{className:[Y.a.contacs,Y.a.column].join(""),children:[Object(B.jsx)("p",{children:"Contacs"}),Object(B.jsxs)("ul",{children:[Object(B.jsx)("li",{children:"usfuld@gmail.com"}),Object(B.jsx)("li",{children:Object(B.jsx)("a",{target:"_blank",href:"https://t.me/z_a_h_a_r_74/",className:Y.a.link,children:"telegram"})})]})]})]})})})},$=a.a.memo(K),ee=c(36),te=c.n(ee),ce=c(7),ne=c.n(ce),ae=c(49),re=c.n(ae),se=function(e){return Object(B.jsx)("div",{className:re.a.body,children:e.content})},ie=a.a.memo(se),oe=c(20),ue=c(24),le=c.n(ue),je=c(54),de=c.p+"static/media/search.3370a178.svg",be=function(e){return Object(B.jsx)(je.a,{initialValues:{query:""},validate:function(e){return{}},onSubmit:function(t,c){var n=c.setSubmitting;e.callback(t),n(!1)},children:function(t){var c,n,a=t.values,r=(t.errors,t.touched,t.handleChange),s=t.handleBlur,i=t.handleSubmit,o=t.isSubmitting;return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)("form",{onSubmit:i,className:le.a.form,children:[Object(B.jsx)("input",(c={className:le.a.input,type:"text",name:"query",onChange:r,onBlur:s,value:a.email,placeholder:"Search currency"},Object(oe.a)(c,"className",le.a.input),Object(oe.a)(c,"autocomplete","off"),c)),Object(B.jsx)("button",(n={disabled:o||e.isNotFound,className:le.a.button,type:"submit"},Object(oe.a)(n,"className",le.a.button),Object(oe.a)(n,"children",Object(B.jsx)("img",{src:de,alt:""})),n))]})})}})},Oe=a.a.memo(be),he=function(e){var t=Object(i.b)(),c=Object(u.f)(),a=Object(n.useState)(!1),r=Object(G.a)(a,2),s=r[0],l=r[1],j=Object(i.c)((function(e){return e.data.latest.conversion_rates})),d=Object(i.c)((function(e){return e.data.searchResult})),b=Object(i.c)((function(e){return e.app.baseCurrency}));return s&&setTimeout((function(){l(!1)}),3e3),Object(B.jsxs)(B.Fragment,{children:[s&&Object(B.jsx)(ie,{content:"currency not found"}),Object(B.jsx)(Oe,{isNotFound:s,callback:function(e){var c=[];Object.keys(j).forEach((function(t){0!==e.query.length&&t.includes(e.query.toUpperCase())&&c.push({name:t,currency:j[t]})})),0!==e.query.length&&0===c.length&&l(!0),t(S(c))}}),Object(B.jsxs)("div",{className:ne.a.flex,children:[Object(B.jsxs)("div",{className:ne.a.bigCard,children:["1 ",b," ="]}),"/all"!==c.location.pathname?Object(B.jsx)(o.b,{to:"/all",className:ne.a.bigCard,children:"open currency exchange rates to the full page"}):Object(B.jsx)(o.b,{to:"/",className:ne.a.bigCard,children:"return to main page"})]}),0!==d.length?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("div",{className:ne.a.list,children:d.map((function(e){return Object(B.jsxs)("div",{className:ne.a.card,children:[Object(B.jsx)("span",{className:ne.a.name,children:e.name}),Object(B.jsxs)("div",{children:[Object(B.jsx)("span",{className:ne.a.name,children:e.currency}),Object(B.jsx)("span",{className:ne.a.currency,children:e.name})]})]},e.name)}))}),Object(B.jsx)("button",{className:ne.a.allCurrency,onClick:function(){t(S([]))},children:"all currency"})]}):Object(B.jsx)("div",{className:ne.a.list,children:Object.keys(j).map((function(e){return Object(B.jsxs)("div",{className:ne.a.card,children:[Object(B.jsx)("span",{className:ne.a.name,children:e}),Object(B.jsxs)("div",{children:[Object(B.jsx)("span",{className:ne.a.name,children:j[e].toFixed(4)}),Object(B.jsx)("span",{className:ne.a.currency,children:e})]})]},e)}))})]})},me=a.a.memo(he),fe=c(21),_e=c.n(fe),pe=c(52),xe=function(){var e=Object(i.b)(),t=Object(u.f)(),c=Object(n.useState)("USD"),a=Object(G.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)("GBP"),l=Object(G.a)(o,2),j=l[0],d=l[1],b=Object(n.useState)(1),O=Object(G.a)(b,2),h=O[0],m=O[1],f=pe.parse(t.location.search.substr(1)),_=Object(i.c)((function(e){return e.data.conversionResult.conversion_rate}));Object(n.useEffect)((function(){var t=f.fromCount,c=f.firstCurrency,n=f.secondCurrency;c&&s(r=c),n&&d(j=n),n&&m(h=t),e(k(r,j))}),[]);var p,x=function(){t.push({pathname:"/",search:"firstCurrency=".concat(r,"&secondCurrency=").concat(j,"&fromCount=").concat(h)})};return Object(B.jsxs)("div",{className:_e.a.cardsWrap,children:[Object(B.jsxs)("div",{className:_e.a.card,children:[Object(B.jsx)(J,{onItemClick:function(t){s(r=t),e(k(r,j)),x()},initialCurrency:r}),Object(B.jsx)("input",{type:"number",className:_e.a.input,onChange:function(e){m(h=Number(e.target.value)),x()},value:0===h?"":h}),Object(B.jsx)("div",{onClick:function(){m(h="")},className:_e.a.clear,children:"clear"})]}),Object(B.jsxs)("div",{className:_e.a.card,children:[Object(B.jsx)(J,{onItemClick:function(t){d(j=t),e(k(r,j)),x()},initialCurrency:j}),Object(B.jsx)("input",{type:"text",value:(p=_*h,(p.toString().includes(".")?p.toString().split(".").pop().length:0)<4?_*h:(_*h).toFixed(4)),className:_e.a.input})]})]})},ye=a.a.memo(xe),ve=function(e){return Object(B.jsxs)("section",{className:te.a.body,children:[Object(B.jsx)(ye,{}),Object(B.jsx)("div",{className:te.a.currencyList,children:Object(B.jsx)(me,{})})]})},Ne=a.a.memo(ve),ge=function(e){var t=Object(i.b)(),c=Object(i.c)((function(e){return e.app.initialized}));return Object(n.useEffect)((function(){t(function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new Promise((function(e,c){var n=navigator.language;t({type:I,payload:n}),e(t(P("ru"===n?"RUB":"USD")))})).then((function(){return new Promise((function(e,c){e(t(E(navigator.language)))}))})).then((function(){return new Promise((function(e,c){e(t(function(){var e=Object(d.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p().then((function(e){t({type:g,payload:e})}));case 1:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()))}))})).then((function(){return new Promise((function(e,c){var n;e(t({type:R,payload:n}))}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),c?Object(B.jsxs)("div",{className:"body",children:[Object(B.jsx)(H,{}),Object(B.jsx)("div",{className:"container",children:Object(B.jsxs)(u.c,{children:[Object(B.jsx)(u.a,{path:"/all",render:function(){return Object(B.jsx)(me,{})}}),Object(B.jsx)(u.a,{path:"/",render:function(){return Object(B.jsx)(Ne,{})}})]})}),Object(B.jsx)($,{})]}):Object(B.jsx)(F,{})},Ce=a.a.memo(ge),Se=c(28),Ee=c(53),ke=Object(Se.b)({app:U,data:w}),we=Object(Se.d)(ke,Object(Se.c)(Object(Se.a)(Ee.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));s.a.render(Object(B.jsx)(i.a,{store:we,children:Object(B.jsx)(o.a,{children:Object(B.jsx)(Ce,{})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.03500ee7.chunk.js.map